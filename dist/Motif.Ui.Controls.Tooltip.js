Motif.Page.include("Motif.Ui.Controls.Control.js"),Motif.Page.include("Motif.Ui.Utility.js"),Motif.Ui.Controls.Tooltip=function(t){Motif.Utility.extend(this,"Motif.Ui.Controls.Control"),this.__class.push("Motif.Ui.Controls.Tooltip"),this.offsetTop=5,this.offsetLeft=5,this.boundTo=null,this.align=Motif.Ui.Controls.TooltipAlignment.Mouse,this._handlers={},this.bind=function(t){this.boundTo=t,Motif.Utility.attachEvent(this.boundTo,"onmouseover",this._handlers.mouseOver),Motif.Utility.attachEvent(this.boundTo,"onmouseout",this._handlers.mouseOut)},this.unbind=function(t){null!=this.boundTo&&(Motif.Utility.detachEvent(this.boundTo,"onmouseover",this._handlers.mouseOver),Motif.Utility.detachEvent(this.boundTo,"onmouseout",this._handlers.mouseOut),this.boundTo=null)},this.setElement=function(t){return this.Motif$Ui$Controls$Control.setElement(t)},this.show=function(t,i){this.Motif$Ui$Controls$Control.show(),this._updateCoords(t,i)},this._updateCoords=function(t,i){var o=null,n=null;if(this.align!=Motif.Ui.Controls.TooltipAlignment.Mouse){if(null==this.boundTo)throw new Error("Motif.Ui.Controls.Tooltip._updateCoords: Object not bound to an element, can't get coordinates");o=Motif.Ui.Utility.getOuterRectangle(this.element),n=Motif.Ui.Utility.getRectangle(this.boundTo)}"absolute"!=Motif.Ui.Css.getCurrentStyle(this.element,"position")&&(this.element.style.position="absolute");var e=0,s=0;this.align===Motif.Ui.Controls.TooltipAlignment.Top&&(e=n.x,s=n.y-o.h-this.offsetTop),this.align===Motif.Ui.Controls.TooltipAlignment.Right&&(e=n.x+n.w+this.offsetLeft,s=n.y+this.offsetTop),this.align===Motif.Ui.Controls.TooltipAlignment.Bottom&&(e=n.x+this.offsetLeft,s=n.y+n.h+this.offsetTop),this.align===Motif.Ui.Controls.TooltipAlignment.Left&&(e=n.x-n.w-this.offsetLeft,s=n.y-this.offsetTop),this.align===Motif.Ui.Controls.TooltipAlignment.Mouse&&(e=t+this.offsetLeft,s=i+this.offsetTop),(this._x!==e||this._y!==s)&&(this._x=e,this._y=s,this.element.style.cssText+=";left:"+e.toString()+"px; top:"+s.toString()+"px;",Motif.Page.log.write("Motif.Ui.Controls.Tooltip._updateCoords: Setting coords to x="+e.toString()+",y="+s.toString()+"."))},this.configure=function(t){if(t=this.Motif$Ui$Controls$Control.configure(t),Motif.Type.isElement(t.bind)&&this.bind(t.bind),Motif.Type.isString(t.bind)&&this.bind(document.getElementById(t.bind)),"undefined"!=typeof t.align){if(Motif.Ui.Controls.TooltipAlignment[t.align])this.align=Motif.Ui.Controls.TooltipAlignment[t.align];else for(e in Motif.Ui.Controls.TooltipAlignment)if(Motif.Ui.Controls.TooltipAlignment[e]===t.align){this.align=t.align;break}if(this.align!=t.align)throw new Error("Motif.Ui.Controls.Tooltip.configure: Invalid value for 'align' specified.")}},this.main=function(t){this._handlers.mouseOver=new Function("e","e=e||event; "+this.referenceString()+".show(e.clientX, e.clientY);"),this._handlers.mouseOut=new Function(this.referenceString()+".hide();"),t&&this.configure(t)},this.main(t)},Motif.Ui.Controls.TooltipAlignment={Top:0,Right:1,Bottom:2,Left:3,Mouse:4};