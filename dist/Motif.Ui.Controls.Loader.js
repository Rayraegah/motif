Motif.Ui.Controls.Loader={objects:{},load:function Loader_load(startElement){var resume=null,control=null,childElements=[];"undefined"==typeof startElement&&(startElement=document.body,Motif.Page.log.write("Motif.Ui.Controls.Loader.load: Element set to document.body"));for(var i=0,len=startElement.childNodes.length;len>i;i++)1==startElement.childNodes[i].nodeType&&childElements.push(startElement.childNodes[i]);if(null!=startElement.getAttribute("motifClass")){var motifClass=startElement.getAttribute("motifClass");startElement.attributes.removeNamedItem("motifClass"),Motif.Page.log.write("Motif.Ui.Controls.Loader.load: Class resolved as '"+motifClass+".");try{eval("control = new "+motifClass+";")}catch(X){throw new Error("Motif.Ui.Controls.Loader.load: Failed to initialize '"+motifClass+"'.\r\n"+X.message)}resume=control.load(startElement),Motif.Page.log.write("Motif.Ui.Controls.Loader.load: Control loaded."),startElement.getAttribute("id")&&(this.objects[startElement.getAttribute("id")]=control,Motif.Page.log.write("Motif.Ui.Controls.Loader.load: Control added to the oject collection with id '"+startElement.getAttribute("id")+"'.")),Motif.Type.isElement(resume)&&resume!=startElement&&(Motif.Page.log.write("Motif.Ui.Controls.Loader.load: Resuming used for loader."),startElement=resume,childElements=Motif.Ui.Controls.Loader._getChildElements(startElement)),null===resume&&(Motif.Page.log.write("Motif.Ui.Controls.Loader.load: Aborting tree walk."),startElement=null)}if(null!=startElement&&childElements.length>0)for(var i=0;i<childElements.length;i++)Motif.Ui.Controls.Loader.load(childElements[i]);null!=control&&control.fireEvent("onloadtree")},_getChildElements:function(t){for(var e=[],o=0,l=t.childNodes.length;l>o;o++)1==t.childNodes[o].nodeType&&e.push(t.childNodes[o])}};