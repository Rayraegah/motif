Motif.Page.include("Motif.Ui.Controls.Swf.js"),Motif.Page.include("Motif.Ui.Utility.js"),Motif.Ui.Controls.YoutubePlayer=function(t){Motif.Utility.extend(this,"Motif.Ui.Controls.Swf"),this.__class.push("Motif.Ui.Controls.YoutubePlayer"),this._video="",this._appendSwf=function(){this.Motif$Ui$Controls$Swf._appendSwf(),this._setSwfEvents()},this._setSwfEvents=function(){return"undefined"==typeof this.swf.addEventListener?void window.setTimeout(this.referenceString()+"._setSwfEvents();",100):(this.swf.addEventListener("onStateChange",this.referenceString()+"._handlers.state"),void this.swf.addEventListener("onError",this.referenceString()+"._handlers.error"))},this.setVideo=function(t){Motif.Page.log.write("Motif.Ui.Controls.YoutubePlayer.setVideo: Setting video to: '"+t+"'"),this.swf.loadVideoById(t),this._video=t,this._isAutoplaying=!0},this.getVideo=function(){return this._video},this.mute=function(){Motif.Page.log.write("Motif.Ui.Controls.YoutubePlayer.mute: Muting player."),this.swf.mute()},this.unmute=function(){Motif.Page.log.write("Motif.Ui.Controls.YoutubePlayer.unmute: Unmuting player."),this.swf.unMute()},this.play=function(){Motif.Page.log.write("Motif.Ui.Controls.YoutubePlayer.setVideo: Starting playback."),this.swf.playVideo()},this.pause=function(){Motif.Page.log.write("Motif.Ui.Controls.YoutubePlayer.setVideo: Pausing playback."),this.swf.pauseVideo()},this.stop=function(){Motif.Page.log.write("Motif.Ui.Controls.YoutubePlayer.setVideo: Stopping playback and clearing video."),this.swf.seekTo(0),setTimeout("var swf = "+this.referenceString()+".swf; swf.stopVideo(); swf.clearVideo();",25)},this.seek=function(t){Motif.Page.log.write("Motif.Ui.Controls.YoutubePlayer.setVideo: Moving to position: '"+t+"'."),this.swf.seekTo(t)},this.setVolume=function(t){Motif.Page.log.write("Motif.Ui.Controls.YoutubePlayer.setVolume: Setting volume to: '"+t+"'."),this.swf.setVolume(t)},this.getVolume=function(t){Motif.Page.log.write("Motif.Ui.Controls.YoutubePlayer.setVolume: Getting the volume."),this.swf.getVolume()},this.onstatechange=function(t){},this.onerror=function(t){},this._stateTracker=function(t){return this._isAutoplaying===!0&&1==t?(this.swf.stopVideo(),setTimeout(this.referenceString()+".swf.clearVideo();",5),void(this._isAutoplaying=!1)):((-1==t||5==t)&&(this.isPaused=!1,this.isPlaying=!1),1==t&&(this.isPaused=!1,this.isPlaying=!0),void(2==t&&(this.isPaused=!0,this.isPlaying=!1)))},this.main=function(t){this.src="http://www.youtube.com/apiplayer?enablejsapi=1&loop=0&autoplay=0&rel=0&fs=0&showinfo=0&showsearch=0",this.attachEvent("onstatechange",this._stateTracker),t&&this.configure(t),this._handlers={control:this,state:function(t){this.control.fireEvent("onstatechange",[t])},error:function(t){this.control.fireEvent("onerror",[t])}}},this.main(t)};