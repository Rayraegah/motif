Motif.Drawing.Color=function(r,g,b,a){this.inheritFrom=Motif.Object,this.inheritFrom(),this.__class.push("Motif.Drawing.Color"),this.a=255,this.r=0,this.g=0,this.b=0,this.brighten=function(i){this.r+=i,this.g+=i,this.b+=i},this.toHex=function(){var i=[this.r.toString(16).toUpperCase(),this.g.toString(16).toUpperCase(),this.b.toString(16).toUpperCase()];for(e in i)i[e]=1==i[e].length?"0"+i[e]:i[e];return i.join("")},this.fromHex=function(hex){if(hex){hex=hex.replace("#","");var h=hex.split("");3==h.length&&(this.r=parseInt(eval("0x"+h[0]+h[0]),10),this.g=parseInt(eval("0x"+h[1]+h[1]),10),this.b=parseInt(eval("0x"+h[2]+h[2]),10)),6==h.length&&(this.r=parseInt(eval("0x"+h[0]+h[1]),10),this.g=parseInt(eval("0x"+h[2]+h[3]),10),this.b=parseInt(eval("0x"+h[4]+h[5]),10))}},this.parse=function(i){if(!i)throw new Error("Motif.Drawing.Color.fromString: No valid color specified, '"+i+"'");if("#"==i.charAt(0))return void this.fromHex(i);var i=i.replace(/[^\d\,]/g,""),t=i.split(",");if(t.length<3||t.length>4)throw new Error("Motif.Drawing.Color.fromString: No valid color specified, '"+i+"'");for(e in t){if(t[e]=parseInt(t[e]),t[e]>255||t[e]<0)throw new Error("Motif.Drawing.Color.fromString: No valid color specified, '"+i+"'");0==e&&(this.r=t[e]),1==e&&(this.g=t[e]),2==e&&(this.b=t[e]),3==e&&(this.a=t[e])}},this.tryParse=function(i){try{this.parse(i)}catch(t){Motif.Page.log.write("Motif.Drawing.Color.tryParse: Parsing color value failed. {"+t.description+"}")}},this.toString=function(){return this.a+","+this.r+","+this.g+","+this.b},this.main=function(i,t,r,e){Motif.Type.isNumber(i)&&(this.r=i),Motif.Type.isNumber(t)&&(this.g=t),Motif.Type.isNumber(r)&&(this.b=r),Motif.Type.isNumber(e)&&(this.a=e)},this.main(r,g,b,a)};