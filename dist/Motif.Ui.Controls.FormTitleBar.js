Motif.Page.include("Motif.Ui.Controls.Control.js"),Motif.Ui.Controls.FormTitleBar=function(t){Motif.Utility.extend(this,"Motif.Ui.Controls.Control"),this.__class.push("Motif.Ui.Controls.FormTitleBar"),this.title=null,this.icon=null,this.min=null,this.max=null,this.exit=null,this.load=function(t){this._removeEvents(),null!=t.parentNode&&t.parentNode.removeChild(t);var i={icon:this.icon,min:this.min,max:this.max,exit:this.exit};for(e in i){var n=Motif.Dom.Utility.getChildElements(t,"img",e)[0];n&&(i[e].parentNode.replaceChild(n,i[e]),n.style.cursor="default",this[e]=n)}var s=Motif.Dom.Utility.getElementsByClassName(t,"title")[0];s&&(this.title.innerHTML=s.innerHTML),this._addEvents()},this.configure=function(t){t&&t.element&&(t.element=null),t=this.Motif$Ui$Controls$Control.configure(t),Motif.Page.log.write("Motif.Ui.Controls.FormTitleBar.configure: Setting the formtitlebar specific items from config."),Motif.Type.isUndefined(t.icon)||(this.icon.style.display="inline",this.icon.src=t.icon),Motif.Type.isUndefined(t.min)||(this.min.style.display="inline",this.min.src=t.min),Motif.Type.isUndefined(t.max)||(this.max.style.display="inline",this.max.src=t.max),Motif.Type.isUndefined(t.exit)||(this.exit.style.display="inline",this.exit.src=t.exit),Motif.Type.isUndefined(t.title)||(this.title.innerHTML=t.title)},this._addEvents=function(){this._eventMin||(this._eventMin=new Function(this.referenceString()+'.fireEvent("onmin");'),this._eventMax=new Function(this.referenceString()+'.fireEvent("onmax");'),this._eventExit=new Function(this.referenceString()+'.fireEvent("onexit");'),this._eventReturn=function(t){return t=t||event,t.cancelBubble=!0,!0}),Motif.Utility.attachEvent(this.min,"onclick",this._eventMin),Motif.Utility.attachEvent(this.max,"onclick",this._eventMax),Motif.Utility.attachEvent(this.exit,"onclick",this._eventExit),Motif.Utility.attachEvent(this.min,"onmousedown",this._eventReturn),Motif.Utility.attachEvent(this.max,"onmousedown",this._eventReturn),Motif.Utility.attachEvent(this.exit,"onmousedown",this._eventReturn)},this._removeEvents=function(){this._eventMin&&(Motif.Utility.detachEvent(this.min,"onclick",this._eventMin),Motif.Utility.detachEvent(this.max,"onclick",this._eventMax),Motif.Utility.detachEvent(this.exit,"onclick",this._eventExit),Motif.Utility.detachEvent(this.min,"onmousedown",this._eventReturn),Motif.Utility.detachEvent(this.max,"onmousedown",this._eventReturn),Motif.Utility.detachEvent(this.exit,"onmousedown",this._eventReturn))},this.onmin=function(){},this.onmax=function(){},this.onexit=function(){},this.main=function(t){this.element=document.createElement("table");var i=this.element.appendChild(document.createElement("tbody")),e=i.appendChild(document.createElement("tr"));this._td1=e.appendChild(document.createElement("td")),this._td2=e.appendChild(document.createElement("td")),this.element.className=this.getCssClassName(),this.element.cellSpacing=0,this.element.cellPadding=0,this._td1.className="Title",this._td2.className="ControlBox",this.icon=this._td1.appendChild(document.createElement("img")),this.title=this._td1.appendChild(document.createElement("span")),this.min=this._td2.appendChild(document.createElement("img")),this.max=this._td2.appendChild(document.createElement("img")),this.exit=this._td2.appendChild(document.createElement("img")),this.icon.style.cssText="display:none;",this.min.style.cssText="display:none; cursor:default;",this.max.style.cssText="display:none; cursor:default;",this.exit.style.cssText="display:none; cursor:default;",this._addEvents(),this.configure(t)},this.main(t)};